{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///./src/ComboBoxEditor.tsx","webpack:///external \"@splunk/react-ui/ComboBox\""],"names":[],"mappings":"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","file":"ComboBoxEditor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 45);\n","module.exports = require(\"react\");","import React, { useState, useMemo, useCallback } from 'react';\nimport ComboBox from '@splunk/react-ui/ComboBox';\n\nconst identity = ({ currOptions }: { currOptions: ComboBoxOptions }) =>\n    currOptions;\n\nexport type ComboBoxOptions = { label?: string; value: string }[];\n\nexport type GenerateComboBoxOptionsFunc = ({\n    currValue,\n    currOptions,\n}: {\n    currValue: string;\n    currOptions: ComboBoxOptions;\n}) => ComboBoxOptions;\n\ninterface ComboBoxEditorProps {\n    /**\n     * Value of the combo box.\n     */\n    value?: string;\n    /**\n     * List of label-value pairs to list as options for the combo box. Labels are optional.\n     */\n    options?: ComboBoxOptions;\n    /**\n     * Placeholder to display when the combo box is empty.\n     */\n    placeholder?: string;\n    /**\n     * Callback invoked when the value of the combo box changes.\n     */\n    onChange: (evt: React.SyntheticEvent, updatedValue: string) => void;\n    /**\n     * Optional function that generates options for the combo box.\n     */\n    generateOptions?: GenerateComboBoxOptionsFunc;\n    /**\n     * Show error state\n     */\n    error?: boolean;\n    /**\n     * footer message\n     */\n    footerMessage?: React.ReactNode;\n}\n\nconst ComboBoxEditor = ({\n    value: initialValue = '',\n    options: initialOptions = [],\n    placeholder,\n    onChange,\n    generateOptions = identity,\n    error,\n    footerMessage,\n}: ComboBoxEditorProps): JSX.Element => {\n    const [currValue, setValue] = useState(initialValue);\n\n    const safeHandleChange = useCallback(\n        (evt, updatedValue) => {\n            if (updatedValue !== initialValue) {\n                onChange(evt, updatedValue.trim());\n            }\n            setValue(updatedValue);\n        },\n        [onChange, initialValue]\n    );\n\n    const handleInputKeyPress = useCallback(\n        (evt) => {\n            if (evt.key === 'Enter') {\n                safeHandleChange(evt, evt.target.value);\n            }\n        },\n        [safeHandleChange]\n    );\n\n    const handleInputBlur = useCallback(\n        (evt) => {\n            safeHandleChange(evt, evt.target.value);\n        },\n        [safeHandleChange]\n    );\n\n    const handleInputChange = useCallback(\n        (evt, { value }) => {\n            if (!value) {\n                safeHandleChange(evt, value);\n            }\n            setValue(value);\n        },\n        [safeHandleChange]\n    );\n\n    const options = useMemo(\n        () =>\n            generateOptions({\n                currValue,\n                currOptions: initialOptions,\n            }).map(({ value: v, ...others }) => (\n                <ComboBox.Option key={v} value={v} {...others} />\n            )),\n        [currValue, initialOptions, generateOptions]\n    );\n\n    return (\n        <ComboBox\n            value={currValue}\n            onChange={handleInputChange}\n            onKeyPress={handleInputKeyPress}\n            onBlur={handleInputBlur}\n            placeholder={placeholder}\n            error={error}\n            footerMessage={footerMessage}\n        >\n            {options}\n        </ComboBox>\n    );\n};\n\nexport default ComboBoxEditor;\n","module.exports = require(\"@splunk/react-ui/ComboBox\");"],"sourceRoot":""}